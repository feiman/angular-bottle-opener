"use strict";angular.module("bottle.opener",[]).provider("$bottle",function(){function a(a){return localStorage.getItem(a)}function b(a,b){return localStorage.setItem(a,b),b}function c(c){this.key=c.key,this.api=c.api,this.storage=angular.fromJson(a(this.key)||b(this.key,"{}"))}var d,e;this.$get=["$http","$q",function(a,b){return d=a,e=b,function(a){return new c(a)}}],c.prototype.all=function(){return this.storage},c.prototype.clean=function(){return this.storage=angular.fromJson("{}"),b(this.key,"{}"),this},c.prototype.get=function(a){var b,c;return c=e.defer(),(b=this.storage[a])?(c.resolve({data:b,status:200}),c.promise):"string"==typeof this.api?d.get(this.api+a):(c.resolve({}),c.promise)},c.prototype.set=function(a,c){return this.storage[a]=c,b(this.key,angular.toJson(this.storage)),this}});